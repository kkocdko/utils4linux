# current version is https://github.com/bluenviron/mediamtx/releases/download/v1.4.0/mediamtx_v1.4.0_linux_amd64.tar.gz

logLevel: info
logDestinations: [stdout]
readTimeout: 10s # Timeout of read operations.
writeTimeout: 10s # Timeout of write operations.
# Size of the queue of outgoing packets.
# A higher value allows to increase throughput, a lower value allows to save RAM.
writeQueueSize: 512
# Maximum size of outgoing UDP packets.
# This can be decreased to avoid fragmentation on networks with a low UDP MTU.
udpMaxPayloadSize: 1472

api: no
metrics: no
pprof: no
rtmp: no
srt: no

hls: no
hlsAddress: :9254
hlsEncryption: no
hlsAlwaysRemux: no
hlsVariant: mpegts
hlsSegmentCount: 7 # ll-lhs requires at least 7
hlsSegmentDuration: 1s
hlsPartDuration: 200ms
hlsAllowOrigin: "*"

rtsp: no
protocols: [tcp]
encryption: "no"
rtspAddress: :9254

webrtc: no
webrtcAddress: :9254
webrtcEncryption: no
webrtcAllowOrigin: "*"
# Address of a local UDP listener that will receive connections.
# Use a blank string to disable.
webrtcLocalUDPAddress: :8189
# Address of a local TCP listener that will receive connections.
# This is disabled by default since TCP is less efficient than UDP and
# introduces a progressive delay when network is congested.
webrtcLocalTCPAddress: ""
# WebRTC clients need to know the IP of the server.
# Gather IPs from interfaces and send them to clients.
webrtcIPsFromInterfaces: yes
# List of interfaces whose IPs will be sent to clients.
# An empty value means to use all available interfaces.
webrtcIPsFromInterfacesList: []
# List of additional hosts or IPs to send to clients.
webrtcAdditionalHosts: []
# ICE servers. Needed only when local listeners can't be reached by clients.
# STUN servers allows to obtain and share the public IP of the server.
# TURN/TURNS servers forces all traffic through them.
webrtcICEServers2:
  []
  # - url: stun:stun.l.google.com:19302
  # if user is "AUTH_SECRET", then authentication is secret based.
  # the secret must be inserted into the password field.
  # username: ''
  # password: ''

paths:
  s0:
    source: udp://127.0.0.1:9254 # ffmpeg -xxx -f mpegts udp://127.0.0.1:9254?pkt_size=1316
